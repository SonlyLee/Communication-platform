/*! angular-cuf-nav by hjzheng 2016-02-29 */
angular.module("cuf-nav-template",["template/cufNav.html","template/cufNavChildItem.html","template/cufNavItem.html"]),angular.module("template/cufNav.html",[]).run(["$templateCache",function(a){a.put("template/cufNav.html",'<ul class="nav navbar-nav" ng-transclude></ul>')}]),angular.module("template/cufNavChildItem.html",[]).run(["$templateCache",function(a){a.put("template/cufNavChildItem.html",'<li ng-class="{\'dropdown-submenu\': hasChildren}" ng-click="navClick($event)">\n	<a ng-if="!hasChildren" href="{{href}}" class="dropdown-toggle" ng-click="clickToggle()" ng-mouseover="mouseOver()">{{ label }}</a>\n	<a ng-if="hasChildren" class="dropdown-toggle link" ng-class="{\'dropdown-open\': show}" ng-click="clickToggle()" ng-mouseover="mouseOver()">{{ label }}</a>\n	<ul ng-if="hasChildren" role="menu" ng-class="{\'dropdown-menu\': hasChildren, \'dropdown-menu-show\': show}" ng-transclude>\n\n    </ul>\n</li>')}]),angular.module("template/cufNavItem.html",[]).run(["$templateCache",function(a){a.put("template/cufNavItem.html",'<li class="dropdown" ng-click="navClick($event)">\n	<a ng-if="!hasChildren" class="dropdown-toggle" href="{{href}}" ng-click="clickToggle()" ng-mouseover="mouseOver()">{{label}}</a>\n	<a ng-if="hasChildren" class="dropdown-toggle link" ng-class="{\'dropdown-open\': show}" ng-click="clickToggle()" ng-mouseover="mouseOver()">{{label}} <span class="caret"></span></a>\n	<ul role="menu" ng-if="hasChildren" ng-class="{\'dropdown-menu\': hasChildren, \'dropdown-menu-show\': show}" ng-transclude>\n	<ul>\n</li>')}]),angular.module("cuf.nav",["cuf-nav-template"]).directive("cufNav",["$window",function(a){return{scope:{triggeredEvent:"@"},restrict:"E",templateUrl:"template/cufNav.html",replace:!0,transclude:!0,controllerAs:"cufNavCtrl",controller:["$scope","$element","$attrs","$transclude",function(b,c,d,e){b.triggeredEvent||(b.triggeredEvent="click");var f=[];this.triggeredEvent=b.triggeredEvent,this.addItems=function(a){f.push(a)},this.closeOtherItems=function(a){angular.forEach(f,function(b){b.label!==a.label&&(b.show=!1,angular.forEach(a.childItems,function(a){angular.forEach(a,function(a){a.show=!1})}))})};var g=function(a){b.$apply(function(){angular.forEach(f,function(a){a.show=!1,angular.forEach(a.childItems,function(a){angular.forEach(a,function(a){a.show=!1})})})})},h=function(a){if("click"===b.triggeredEvent){if(jQuery.contains(c[0],a.target)){if(jQuery(a.target.parentNode).attr("has-children"))return;g(a)}g(a)}},i=function(a){if("mouseover"===b.triggeredEvent){if(jQuery.contains(c[0],a.target))return;g(a)}};jQuery(a).on("click",h),jQuery(a).on("mouseover",i)}]}}]).directive("cufNavItem",function(){return{require:"^cufNav",scope:{label:"@",href:"@",triggeredEvent:"@",isChildren:"@hasChildren",itemClick:"&"},restrict:"E",templateUrl:"template/cufNavItem.html",replace:!0,transclude:!0,controllerAs:"cufNavItem",controller:["$scope","$element","$attrs","$transclude",function(a,b,c,d){a.hasChildren="true"===a.isChildren,a.triggeredEvent?this.triggeredEvent=a.triggeredEvent:this.triggeredEvent=a.$parent.$parent.triggeredEvent;var e=a.childItems={};this.addChildItems=function(a,b){e[a]=e[a]||[],e[a].push(b)},this.closeOtherChildItems=function(a,b){angular.forEach(e[a],function(a){a.label!==b.label&&(a.show=!1)})},a.navClick=function(b){a.itemClick(),b.stopPropagation()}}],link:function(a,b,c,d){d.addItems(a),a.triggeredEvent=d.triggeredEvent,a.clickToggle=function(){"click"===d.triggeredEvent&&(d.closeOtherItems(a),a.show=1!=a.show)},a.mouseOver=function(){"mouseover"===d.triggeredEvent&&(d.closeOtherItems(a),a.show=1!=a.show)}}}}).directive("cufNavChildItem",function(){return{require:"^cufNavItem",scope:{label:"@",href:"@",isChildren:"@hasChildren",itemClick:"&"},restrict:"E",templateUrl:"template/cufNavChildItem.html",replace:!0,transclude:!0,controllerAs:"cufNavItem",controller:["$scope","$element","$attrs","$transclude",function(a,b,c,d){a.hasChildren="true"===a.isChildren,a.navClick=function(b){a.itemClick(),b.stopPropagation()}}],link:function(a,b,c,d){var e=jQuery(b[0].parentNode.parentNode).attr("label");e&&(a.parentLabel=e,d.addChildItems(e,a)),a.clickToggle=function(){"click"===d.triggeredEvent&&(d.closeOtherChildItems(a.parentLabel,a),a.show=1!=a.show)},a.mouseOver=function(){"mouseover"===d.triggeredEvent&&(d.closeOtherChildItems(a.parentLabel,a),a.show=1!=a.show)}}}});